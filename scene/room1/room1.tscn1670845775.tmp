[gd_scene load_steps=17 format=3 uid="uid://x2vxx8nj268"]

[ext_resource type="PackedScene" uid="uid://b36l8gxjyp1k4" path="res://player/node_2d.tscn" id="1_78t7k"]
[ext_resource type="AudioStream" uid="uid://dmwxcf1bqe8n5" path="res://scene/room1/night-atmosphere-with-crickets-374652.mp3" id="1_xo1ai"]
[ext_resource type="Texture2D" uid="uid://bfoicmjkcr8fi" path="res://pictures/2d_lights_and_shadows_neutral_point_light.webp" id="2_s48hg"]
[ext_resource type="Script" uid="uid://clw4v86xmh2f8" path="res://scene/room1/point_light_2d.gd" id="3_0xss4"]
[ext_resource type="Texture2D" uid="uid://dxk80j838c5mk" path="res://pictures/Screenshot 2025-12-19 201357.png" id="4_2nmro"]
[ext_resource type="Texture2D" uid="uid://bn85e01vomdbq" path="res://scene/room1/room1.png" id="8_xo1ai"]

[sub_resource type="GDScript" id="GDScript_xo1ai"]
script/source = "extends Node2D


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	AudioTransition.fade_in()


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_80nbo"]
normal = Vector2(0, -7.95)
distance = -0.30462205

[sub_resource type="GDScript" id="GDScript_wa7oi"]
script/source = "extends Area2D

var player_in_area = false
@onready var label = $closetlable

func _ready():
	label.visible = false

func _unhandled_input(event: InputEvent) -> void:
	if player_in_area and event.is_action_pressed(\"ui_accept\"):
		Dialogic.start(\"closetroom1\")

func _on_body_entered(body):
	if body.name == \"player\":
		player_in_area = true
		label.text = \"PRESS E\"
		label.visible = true

func _on_body_exited(body):
	if body.name == \"player\":
		player_in_area = false
		label.visible = false
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qpgjy"]
size = Vector2(22.999985, 48)

[sub_resource type="SystemFont" id="SystemFont_wa7oi"]
font_names = PackedStringArray("KiwiSoda")
subpixel_positioning = 0
multichannel_signed_distance_field = true

[sub_resource type="LabelSettings" id="LabelSettings_0oeh8"]
font = SubResource("SystemFont_wa7oi")
font_size = 9
shadow_size = 5
shadow_color = Color(0, 0, 0, 0.5647059)

[sub_resource type="GDScript" id="GDScript_qpgjy"]
script/source = "extends Area2D

@onready var label := $door1lable
var player_in_area := false
var used := false

func _ready():
	label.visible = false

func _process(delta):
	if used:
		return

	if player_in_area and Input.is_key_pressed(KEY_E):
		used = true
		change_scene()

func change_scene() -> void:
	await AudioTransition.fade_out()
	SceneTransition.load_scene(
		\"res://scene/coridorlevel1s/corridorlevel1now/corridorlevel1now.tscn\"
	)

func _on_body_entered(body):
	if body.name == \"player\":
		player_in_area = true
		label.text = \"PRESS E\"
		label.visible = true

func _on_body_exited(body):
	if body.name == \"player\":
		player_in_area = false
		label.visible = false
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0oeh8"]
size = Vector2(30.546265, 48)

[sub_resource type="SystemFont" id="SystemFont_g3tj6"]
font_names = PackedStringArray("KiwiSoda")
multichannel_signed_distance_field = true

[sub_resource type="LabelSettings" id="LabelSettings_m8i63"]
font = SubResource("SystemFont_g3tj6")
font_size = 9
shadow_size = 5
shadow_color = Color(0, 0, 0, 0.5647059)

[node name="Node2D" type="Node2D"]
texture_filter = 1
script = SubResource("GDScript_xo1ai")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
position = Vector2(124, 548)
stream = ExtResource("1_xo1ai")
autoplay = true
attenuation = 0.10085544
panning_strength = 0.0

[node name="PointLight2D2" type="PointLight2D" parent="."]
position = Vector2(124, 548)
color = Color(0.19076231, 0.19076234, 0.19076231, 1)
shadow_enabled = true
texture = ExtResource("2_s48hg")
texture_scale = 0.81
script = ExtResource("3_0xss4")

[node name="player" parent="." instance=ExtResource("1_78t7k")]
z_index = 22
position = Vector2(1259, 570.00006)

[node name="StaticBody2D" type="StaticBody2D" parent="."]
z_index = 111
position = Vector2(992.675, 611.35)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(23, 17)
shape = SubResource("WorldBoundaryShape2D_80nbo")

[node name="Screenshot20251219201357" type="Sprite2D" parent="."]
position = Vector2(624, 577)
scale = Vector2(13.96083, 11)
texture = ExtResource("4_2nmro")

[node name="Room1" type="Sprite2D" parent="."]
position = Vector2(1138, 563)
scale = Vector2(0.133, 0.133)
texture = ExtResource("8_xo1ai")

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
z_index = 111
position = Vector2(1260.175, 587)
rotation = -1.5550884

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D2"]
position = Vector2(23, 17)
shape = SubResource("WorldBoundaryShape2D_80nbo")

[node name="StaticBody2D3" type="StaticBody2D" parent="."]
z_index = 111
position = Vector2(1078.65, 552)
rotation = 1.5550884

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D3"]
position = Vector2(23, 17)
shape = SubResource("WorldBoundaryShape2D_80nbo")

[node name="closet" type="Area2D" parent="."]
z_index = 2
position = Vector2(1103, 590)
script = SubResource("GDScript_wa7oi")

[node name="CollisionShape2D" type="CollisionShape2D" parent="closet"]
z_index = 2
position = Vector2(6, 8)
shape = SubResource("RectangleShape2D_qpgjy")

[node name="closetlable" type="Label" parent="closet"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -13.0
offset_top = -38.0
offset_right = 27.0
offset_bottom = -15.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
label_settings = SubResource("LabelSettings_0oeh8")

[node name="closet2" type="Area2D" parent="."]
z_index = 2
position = Vector2(1187, 585)
script = SubResource("GDScript_wa7oi")

[node name="CollisionShape2D" type="CollisionShape2D" parent="closet2"]
z_index = 2
position = Vector2(6, 8)
shape = SubResource("RectangleShape2D_qpgjy")

[node name="closetlable" type="Label" parent="closet2"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -13.0
offset_top = -38.0
offset_right = 27.0
offset_bottom = -15.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
label_settings = SubResource("LabelSettings_0oeh8")

[node name="door1" type="Area2D" parent="."]
z_index = 2
position = Vector2(1242, 585)
script = SubResource("GDScript_qpgjy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="door1"]
z_index = 2
position = Vector2(8.726868, 9)
shape = SubResource("RectangleShape2D_0oeh8")

[node name="door1lable" type="Label" parent="door1"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 31.0
offset_top = -23.0
offset_right = 71.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
label_settings = SubResource("LabelSettings_m8i63")

[connection signal="body_entered" from="closet" to="closet" method="_on_body_entered"]
[connection signal="body_exited" from="closet" to="closet" method="_on_body_exited"]
[connection signal="body_entered" from="closet2" to="closet2" method="_on_body_entered"]
[connection signal="body_exited" from="closet2" to="closet2" method="_on_body_exited"]
[connection signal="body_entered" from="door1" to="door1" method="_on_body_entered"]
[connection signal="body_exited" from="door1" to="door1" method="_on_body_exited"]
